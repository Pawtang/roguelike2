(this.webpackJsonproguelike2=this.webpackJsonproguelike2||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),i=n.n(c),s=(n(13),n(14),n(2)),l=n(0);var o=function(e){e.gamestate;var t=e.setGamestate;return Object(l.jsxs)("div",{className:"menu",children:[Object(l.jsx)("div",{className:"menuHeader",children:Object(l.jsx)("h1",{id:"title",children:"ROGUELIKE 2"})}),Object(l.jsxs)("div",{className:"flexcolumn center",children:[Object(l.jsx)("button",{onClick:function(){return t("creation")},class:"menubtn",children:"New Game"}),Object(l.jsx)("button",{class:"menubtn",children:"Load Game"}),Object(l.jsx)("button",{class:"menubtn",children:"Credits"})]})]})},d=n(7),u=function(e){var t=e.setGamestate,n=e.stats,r=e.setStats,a=function(e,t,n,r){var a=Object(d.a)(n);console.log("click","".concat(e,", ").concat(t)),"dec"===t?a[e].value=a[e].value-1:"inc"===t&&(a[e].value=a[e].value+1),r(a)},c=function(){return n.reduce((function(e,t){return e+t.value}),0)},i="You are average, you are nobody, you're a jack of all trades.";return Object(l.jsxs)("div",{className:"flexcolumn center",children:[Object(l.jsxs)("div",{className:"creation flexcolumn",children:[Object(l.jsx)("h1",{children:"Create a new character..."}),Object(l.jsxs)("div",{className:"player-image flexcolumn",children:[Object(l.jsx)("div",{className:"flexrow",children:Object(l.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"enter character name"})}),Object(l.jsx)("div",{className:"narritive",children:Object(l.jsx)("p",{children:function(e){switch(!0){case e[0].value>15:case e[0].value>10&&e[1].value>10:}return i}(n)})})]}),Object(l.jsx)("div",{className:"stat-wrapper",children:Object(l.jsxs)("div",{className:"flexcolumn center",children:[Object(l.jsxs)("div",{className:"stat flexrow",children:[Object(l.jsxs)("p",{className:"statname",children:["Available Points: ",25-c()]}),Object(l.jsx)("div",{className:"state-value",id:"available"})]}),n.map((function(e,t){return Object(l.jsxs)("div",{className:"stat flexrow",children:[Object(l.jsx)("p",{class:"statname",children:e.name}),Object(l.jsx)("button",{class:"statbtn",onClick:function(){return a(t,"dec",n,r)},disabled:0===n[t].value,children:"-"})," ",Object(l.jsx)("div",{className:"stat-value",id:e.id,children:e.value}),Object(l.jsx)("button",{class:"statbtn",onClick:function(){return a(t,"inc",n,r)},disabled:c()>=25,children:"+"})," "]})}))]})})]}),Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("button",{className:"inline-btn",children:"Reset \u2b55"}),Object(l.jsx)("button",{onClick:function(){return t("exploration")},class:"inline-btn",children:"Accept \u2705"})]})]})},j=function(){return Object(l.jsx)("div",{className:"shop",children:Object(l.jsx)("h2",{children:"This is the shop area"})})},p=n(8),b={helmet:{name:"Steel Helm",description:"A cheap old helmet",itemType:"helmet"},steelsword:{name:"Steel Sword",description:"A cheap old sword",itemType:"steelsword"}};var m=function(){for(var e=["helmet","steelsword","boots","cuirass","amulet"],t=function(e){return e.map((function(e){var t=b[e];return Object(p.a)({id:e},t)}))}(e),n=e.length,r=0;r<20-n;r++)t.push("0");return Object(l.jsx)("div",{className:"inventory",children:Object(l.jsxs)("div",{className:"inventorycontainer flexrow",children:[Object(l.jsxs)("div",{className:"equipped",children:[Object(l.jsx)("div",{className:"equippeditem ring1",children:"Ring"}),Object(l.jsxs)("div",{className:"equippeditem helmet",id:"",children:["Helmet",Object(l.jsx)("div",{class:"sprite eq",id:"helmet",draggable:"true"})]}),Object(l.jsx)("div",{className:"equippeditem ring2",children:"Ring"}),Object(l.jsxs)("div",{className:"equippeditem mainhand",id:"",children:["Main Hand",Object(l.jsx)("div",{class:"sprite eq",id:"woodensword1",draggable:"true"})]}),Object(l.jsxs)("div",{className:"equippeditem armor",id:"",children:["Armor",Object(l.jsx)("div",{class:"sprite eq",id:"cuirass",draggable:"true"})]}),Object(l.jsxs)("div",{className:"equippeditem offhand",id:"",children:["Off Hand",Object(l.jsx)("div",{class:"sprite eq",id:"woodenshield",draggable:"true"})]}),Object(l.jsx)("div",{className:"equippeditem gloves",id:"",children:"Gloves"}),Object(l.jsxs)("div",{className:"equippeditem boots",id:"",children:["Boots",Object(l.jsx)("div",{class:"sprite eq",id:"boots",draggable:"true"})]}),Object(l.jsx)("div",{className:"equippeditem amulet",id:"",children:"Amulet"})]}),Object(l.jsx)("div",{className:"itemgrid",children:t.map((function(e){if("0"===e)return Object(l.jsx)("div",{className:"invitem"});var t=e.itemType,n=e.id;return Object(l.jsx)("div",{className:"invitem",children:Object(l.jsx)("div",{class:"sprite",id:t,draggable:"true"})},n)}))})]})})},h=[{name:"Strength \ud83d\udcaa",id:"str",value:5},{name:"Dexterity \ud83c\udfc3\u200d\u2642\ufe0f",id:"dex",value:5},{name:"Intelligence \ud83d\udcda",id:"int",value:5},{name:"Charisma \ud83d\ude42",id:"chr",value:5},{name:"Luck \ud83c\udfb2",id:"lck",value:5}],v=10,x=function(e){return Math.trunc(Math.random()*e)},y=function(e,t){return x(t-e)+e},f=function(e){return"open"===e?"floor".concat(y(1,3)):"wall"===e?"wall":"foot"===e?"foot wall":"head"===e?"head wall":"entrance"===e?"entrance":"exit"===e?"exit":"player"===e?"player":void 0},O=function(e,t){for(var n,r,a=[],c=[],i=0;i<e;i++)c.push([x(9),x(9),(n=2,r=1,x(r-n)+n+Math.random())]);for(var s=0;s<10;s++){for(var l=[],o=0;o<10;o++){var d=w(c,s,o);"wall"===d&&(d=Math.random()<.35?"wall":"open"),l.push({boundaryType:T(9,s,o),tileType:d,hasBeenTraveled:!1,tileNumber:10*s+o})}a.push(l)}return g(a,10,t)},g=function(e,t,n){for(var r=[],a=0;a<3;a++)for(var c=0;c<t;c++)for(var i=0;i<t;i++){var s=e[c][i];if("wall"===s.tileType){var l=k(e,c,i,s);N(l,"open")&&(s.tileType="open")}else"open"===s.tileType&&function(){var t=k(e,c,i,s),n=0;t.map((function(e){"wall"===e&&n++})),n>=t.length-1&&(s.tileType="wall")}()}for(var o=0;o<t;o++)for(var d=0;d<t;d++){var u=e[o][d];"wall"===u.tileType&&("sw-corner"!==u.boundaryType&&"se-corner"!==u.boundaryType&&"south-edge"!==u.boundaryType&&"open"===e[o+1][d].tileType?(u.tileStyle=f("foot"),r.push([o,d])):u.tileStyle=f("wall")),"open"===u.tileType&&("sw-corner"!==u.boundaryType&&"se-corner"!==u.boundaryType&&"south-edge"!==u.boundaryType&&"wall"===e[o+1][d].tileType?u.tileStyle=f("head"):u.tileStyle=f("open"))}for(var j=y(0,r.length),p=y(0,r.length);p===j;)p=y(0,r.length);var b=e[r[j][0]][r[j][1]],m=e[r[p][0]][r[p][1]];return b.tileStyle=f("entrance"),m.tileStyle=f("exit"),console.log(e),e},T=function(e,t,n){return 0===t&&0===n?"nw-corner":0===t&&n===e?"ne-corner":t===e&&0===n?"sw-corner":t===e&&n===e?"se-corner":0===t&&0!==n&&n!==e?"north-edge":t===e&&0!==n&&n!==e?"south-edge":0===n&&0!==t&&t!==e?"west-edge":n===e&&0!==t&&t!==e?"east-edge":"none"},w=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(Math.sqrt(Math.pow(t-a[0],2)+Math.pow(n-a[1],2))<=a[2])return"open"}return"wall"},N=function(e,t){return e.reduce((function(e,n){return e&&n===t}),!0)},k=function(e,t,n,r){return"none"===r.boundaryType?[e[t-1][n].tileType,e[t+1][n].tileType,e[t][n-1].tileType,e[t][n+1].tileType]:"nw-corner"===r.boundaryType?[e[t][n+1].tileType,e[t+1][n].tileType]:"ne-corner"===r.boundaryType?[e[t][n-1].tileType,e[t+1][n].tileType]:"sw-corner"===r.boundaryType?[e[t][n+1].tileType,e[t-1][n].tileType]:"se-corner"===r.boundaryType?[e[t][n-1].tileType,e[t-1][n].tileType]:"north-edge"===r.boundaryType?[e[t+1][n].tileType,e[t][n-1].tileType,e[t][n+1].tileType]:"south-edge"===r.boundaryType?[e[t-1][n].tileType,e[t][n-1].tileType,e[t][n+1].tileType]:"west-edge"===r.boundaryType?[e[t-1][n].tileType,e[t+1][n].tileType,e[t][n+1].tileType]:"east-edge"===r.boundaryType?[e[t-1][n].tileType,e[t+1][n].tileType,e[t][n-1].tileType]:void 0},S=function(e){var t=e.currentRoomNumber,n=e.rooms,c=e.setRooms,i=e.playerLocation,o=e.setPlayerLocation,d=n[t],u=Object(r.useState)("invclosed"),j=Object(s.a)(u,2),p=j[0],b=j[1],h=function(e){return o(e)};console.log(i);var x=Object(r.useCallback)((function(e){!function(e,t){e.preventDefault(),"ArrowUp"===e.code?(console.log("up"),t((function(e){return e[1]>0?[e[0],e[1]-1]:e}))):"ArrowDown"===e.code?(console.log("down"),t((function(e){return e[1]<v?[e[0],e[1]+1]:e}))):"ArrowLeft"===e.code?(console.log("left"),t((function(e){return e[0]>0?[e[0]-1,e[1]]:e}))):"ArrowRight"===e.code&&(console.log("right"),t((function(e){return e[0]<v?[e[0]+1,e[1]]:e})))}(e,h)}),[]);return a.a.useEffect((function(){return window.addEventListener("keydown",x),function(){return window.removeEventListener("keydown",x)}}),[]),Object(l.jsxs)("div",{className:"exploration",id:"mapArea",children:[Object(l.jsx)("div",{className:"flexcolumn center",children:Object(l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(v,", ").concat(80,"px)"),gridTemplateRows:"repeat(".concat(v,", ").concat(80,"px)"),gap:"0"},children:d&&d.map((function(e){return e.map((function(e){return Object(l.jsx)("div",{style:{width:"".concat(80,"px"),height:"".concat(80,"px")},id:e.tileNumber,className:"maptile ".concat(e.tileStyle),children:e.tileType})}))}))})}),"invopen"===p&&Object(l.jsx)("button",{onClick:function(){return b("invclosed")},children:"Inventory"}),"invclosed"===p&&Object(l.jsx)("button",{onClick:function(){return b("invopen")},children:"Inventory"}),Object(l.jsx)("button",{onClick:function(){return c([O(2,o)])},children:"Re-Roll Map"}),"invopen"===p&&Object(l.jsx)(m,{})]})},C=function(e){var t=e.gamestate,n=e.setGamestate,a=Object(r.useState)(h),c=Object(s.a)(a,2),i=c[0],d=c[1],p=Object(r.useState)([0,0]),b=Object(s.a)(p,2),m=b[0],v=b[1],x=Object(r.useState)([O([])]),y=Object(s.a)(x,2),f=y[0],g=y[1],T=Object(r.useState)(0),w=Object(s.a)(T,2),N=w[0];w[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"header"}),Object(l.jsxs)("div",{className:"gameArea",children:["mainmenu"===t&&Object(l.jsx)(o,{gamestate:t,setGamestate:n}),"exploration"===t&&Object(l.jsx)(S,{rooms:f,setRooms:g,currentRoomNumber:N,playerLocation:m,setPlayerLocation:v}),"shop"===t&&Object(l.jsx)(j,{}),"creation"===t&&Object(l.jsx)(u,{setGamestate:n,stats:i,setStats:d})]})]})},q=function(){var e=Object(r.useState)("mainmenu"),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"container flexcolumn center",children:[Object(l.jsxs)("div",{className:"flexrow center",children:[Object(l.jsx)("button",{onClick:function(){return a("mainmenu")},children:"Main Menu"}),Object(l.jsx)("button",{onClick:function(){return a("exploration")},children:"Exploration"}),Object(l.jsx)("button",{onClick:function(){return a("shop")},children:"Shop"}),Object(l.jsx)("button",{onClick:function(){return a("creation")},children:"PlayerCreation"})]}),Object(l.jsx)(C,{setGamestate:a,gamestate:n})]})};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(q,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.55e76d79.chunk.js.map